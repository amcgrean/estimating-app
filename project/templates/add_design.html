{% extends "base.html" %}

{% block title %}Add New Design{% endblock %}

{% block content %}
<div class="container mt-3">
    <h2>Add New Design</h2>
    <form action="{{ url_for('main.add_design') }}" method="POST" class="mb-3">
        {{ form.hidden_tag() }}
        <div class="form-group">
            <label for="plan_name">Plan Name</label>
            <input type="text" name="plan_name" required class="form-control">
        </div>
        <div class="form-group">
            <label for="branch_id">Branch</label>
            <select name="branch_id" id="branch_id" class="form-control">
                {% for branch in branches %}
                <option value="{{ branch.branch_id }}" {% if branch.branch_id==current_user.user_branch_id %}selected{%
                    endif %}>
                    {{ branch.branch_name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="customer_id">Customer</label>
            <select name="customer_id" class="form-control">
                {% for customer in customers %}
                <option value="{{ customer.id }}">{{ customer.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="project_address">Project Address</label>
            <input type="text" name="project_address" required class="form-control">
        </div>
        <div class="form-group">
            <label for="contractor">Contractor</label>
            <input type="text" name="contractor" class="form-control">
        </div>
        <div class="form-group">
            <label for="preliminary_set_date">Preliminary Set Date</label>
            <input type="date" name="preliminary_set_date" class="form-control">
        </div>
        <div class="form-group">
            <label for="designer_id">Designer</label>
            <select name="designer_id" class="form-control">
                {% for designer in designers %}
                <option value="{{ designer.estimatorID }}">{{ designer.estimatorName }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="status">Status</label>
            <select name="status" class="form-control">
                <option value="Active">Active</option>
                <option value="Bid Set">Bid Set</option>
                <option value="Cancelled">Cancelled</option>
                <option value="Completed">Completed</option>
                <option value="On Hold">On Hold</option>
            </select>
        </div>
        <div class="form-group">
            <label for="plan_description">Plan Description</label>
            <select name="plan_description" class="form-control">
                <option value="New Design">New Design</option>
                <option value="Redesign">Redesign</option>
            </select>
        </div>
        <div class="form-group">
            <label for="notes">Notes</label>
            <textarea name="notes" class="form-control" rows="4"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
        <a href="{{ url_for('main.index') }}" class="btn btn-secondary">Back</a>
    </form>
</div>
{% endblock %}